<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KoldGeneration - Tools & Resources</title>
    <script>
      // GitHub Pages 404.html workaround for SPAs
      // This file is served when GitHub Pages can't find the requested file
      // We redirect to index.html and preserve the path in the URL
      const path = window.location.pathname;
      const search = window.location.search;
      const hash = window.location.hash;

      // Don't redirect if we're already loading index.html or at root
      // (shouldn't happen, but prevent infinite loops)
      if (path === '/index.html' || (path === '/' && !document.referrer.includes('404'))) {
        return;
      }

      // Clean the path - remove any index.html references
      let cleanPath = path.replace(/\/index\.html\/?/g, '') || '/';
      
      // Build the redirect URL
      // For root path, just go to index.html
      // For other paths, append them to index.html so React Router can handle them
      let redirectUrl;
      if (cleanPath === '/') {
        redirectUrl = '/index.html' + search + hash;
      } else {
        // Ensure cleanPath starts with /
        if (!cleanPath.startsWith('/')) {
          cleanPath = '/' + cleanPath;
        }
        redirectUrl = '/index.html' + cleanPath + search + hash;
      }

      // Single redirect - should work now
      window.location.replace(redirectUrl);
    </script>
  </head>
  <body>
    <div id="root">
      <div
        style="
          text-align: center;
          padding: 2rem;
          font-family: system-ui, sans-serif;
        "
      >
        <p>Redirecting...</p>
      </div>
    </div>
  </body>
</html>
